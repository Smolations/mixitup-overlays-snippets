/*
  with a black/transparent gradient used as a mask, the alpha
  values are multipled with the underlying content. so black
  shows content completely, while transparent hides it.
*/
:root {
  --terminal-color: #ffffff;
  --terminal-bg-color: rgba(0, 0, 0, 0.75);
  --terminal-highlight-color: var(--reentry-orange);

  --terminal-height: 50px;
  --terminal-width: 50px;
  --terminal-overlap: 15px;
  --terminal-border-width: 8px;

  --terminal-closed-transform: translateY(0);
  --terminal-opened-transform: translateY(calc(var(--terminal-height) + var(--terminal-overlap)));

  --msk: repeating-linear-gradient(#000000 0px, #000000 3px, transparent 4px);
  --text-glow-default: 0px 0px 8px #666666;
  /* --text-glow-highlight: 0px 0px 8px var(--reentry-orange); */
  --text-glow-highlight: 0px 0px 8px rgba(232, 99, 0, 0.8);
  --glow-white: drop-shadow(var(--text-glow-default));
  --glow-highlight: drop-shadow(var(--text-glow-highlight));
}



@keyframes terminal-drift {
  0% {
    -webkit-mask-position: 0 0;
    mask-position: 0 0;
  }
  100% {
    -webkit-mask-position: 0 var(--terminal-height);
    mask-position: 0 var(--terminal-height);
  }
}

.terminal-container {
  box-sizing: border-box;
  position: relative;

  height: var(--terminal-height);
  width: var(--terminal-width);
  padding-top: var(--terminal-overlap);

  background-color: var(--terminal-bg-color);

  box-shadow: 0 0 25px #000000;
  border: var(--terminal-border-width) solid var(--battletech-grey);
  border-bottom-left-radius: 5px;
  border-bottom-right-radius: 5px;
  border-top: none;

  overflow: hidden;
}


.terminal {
  box-sizing: border-box;
  position: absolute;
  bottom: 0;
  min-height: 100%;
  width: 100%;
  padding: 0.2em 0;

  background-color: var(--terminal-bg-color);
  color: var(--terminal-color);
  font-weight: bold;
  font-size: 2em;

  -webkit-mask-image: var(--msk);
  mask-image: var(--msk);
  -webkit-mask-size: 200%;
  mask-size: 200%;
  animation: terminal-drift 12s infinite alternate cubic-bezier(0.1, -0.6, 0.2, 0);
}

.terminal-line {
  margin: 0;
  padding: 0 0.5em;
  line-height: 1.3;
}

/* .terminal-input { */
  /* filter: var(--glow-white) var(--glow-white) brightness(1.5); */
/* } */

.terminal-normal {
  color: var(--terminal-color);
  filter: var(--glow-white) var(--glow-white) brightness(1.5);
}

.terminal-highlight {
  color: var(--reentry-orange);
  filter: var(--glow-highlight) var(--glow-highlight) brightness(1.5);
}

.terminal-line.terminal-input::before {
  content: "$";
  padding: 0 0.5em 0 0;
}

@keyframes cursor-blink {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }
}

.terminal-line:last-child::after {
  content: "\2593";
  padding-left: 0.1em;
  animation: 0.6s cursor-blink infinite;
}

.terminal-line:last-of-type:empty::after {
  padding-left: 0;
}
